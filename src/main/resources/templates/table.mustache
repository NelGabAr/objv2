<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Objetivos</title>
    <!-- CSS de Bootstrap desde CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&family=Michroma&display=swap" rel="stylesheet">
    
    
    <link rel= "stylesheet" href="/css/helloPageStyles.css">
</head>





<body style="background-color:#212121; height: 100vh; width: 100vw; display: grid; justify-content:center;">
<div style="display:grid; box-shadow: inset 0px -5px #212121; background-color: #212121;">
</div>
    <form action="" method="POST" class ="table-body">
        
        <div class = "container" style="background-color:#212121;">
       
            <div>
                <p class="yellowLetters" style="font-size:30px;">Objetivo</p>
                <input class="inp" type="text" name="objective"  value="{{month.goal}}" style="max-width: 100px">
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">ventas mañana:</p>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{totalmorningsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">ventas tarde:</p>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{totalafternoonsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; height:20px;">ventas totales:</p>
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{totalsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; height:20px;">media de ventas:</p>
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{averagesells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">media de mañana:</p>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{averagemorningsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">media de tarde:</p>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{averageafternoonsells}}</p>
            </div>

            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">media laborales:</p>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{averagebdsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">media festivos:</p> 
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{averagehdsells}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; height:20px;">dias esperados:</p> 
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{remainingDays}}</p>
            </div>
            
            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">laborales restantes:</p> 
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{bdDaysToPass}}</p>
            </div>

            <div>
                <p class="yellowLetters" style="font-size:20px; color:#888; height:30px;">no laborales restantes:</p> 
                <p class="yellowLetters" style="font-size:20px; color:#888; height:20px;">{{hdDaysToPass}}</p>
            </div>


            <div>
                <p class="yellowLetters" style="font-size:20px; height:30px;">v. laborales necesarias:</p> 
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{bdSellsNeeded}}</p>
            </div>
            <div>
                <p class="yellowLetters" style="font-size:20px; height:30px;">v. no laborales necesarias:</p> 
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{hdSellsNeeded}}</p>
            </div>
            

            <div>
                <p class="yellowLetters" style="font-size:20px; height:30px;">ventas restantes:</p> 
                <p class="yellowLetters" style="font-size:20px; height:20px;">{{remainingSells}}</p>
            </div>
            
            
<div>
            <p class = "yellowLetters" style="font-size: 60px; height:30px; width: fit-content;">{{month.name}}</p>
            </div>

        </div>
            </div>

        
<input type="hidden" name="{{_csrf.parameterName}}" value="{{_csrf.token}}">
<input type="hidden" name="monthId" value="{{month.Id}}">
        <div class="table">
            <div class="casilla-inicio">
                <h4 style="font-family: 'jersey 10';font-size: 28px">ventas mañana</h4>
                <h4 style="font-family: 'jersey 10';font-size: 28px">ventas tarde</h4>
                <h4 style="font-family: 'jersey 10';font-size: 28px">ventas totales</h4>
                        
            </div>
                {{#month.days}}
            <div class= "casilla-ext">

                <div class="casilla">
                    <input type="text" class="inp" style="height:40px" name="morningSells"  value="{{morningSells}}">
                    <input type="text" class="inp" style="height:40px" name="afternoonSells"  value="{{afternoonSells}}">
                    <input type="text" class="inp" style="height:40px" name="totalSells"  value="{{totalSells}}">
                    
                </div>
                <div Style="display:flex; flex-direction:row; justify-content:space-between; height:40px;">
                    
                    <div class="inp" Style="width:-moz-available; height:40px;">
                    <p>
                        dia {{dayNumber}}
                    </p>
                    </div>
                    
                    <select class="inp" style="height:40px" name="holiday">
                        <option value="false">laboral</option>
                        <option value="true" {{selected}}>no laboral</option>
                    </select>
                    
                </div>
            </div>
        
                {{/month.days}}
        </div>    
            <div style="background-color:#212121;">
                <button type="submit">guardar</button>
                <button type="button" id="retroceder"> retroceder </button>
                <button onclick="copiarDatos()">Copiar para Historico</button>

            </div>
    </form>
            <
                

   

                

</div>

    <!-- JavaScript de Bootstrap desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    
    <!-- El script debe ir al final del body para asegurar que el DOM esté listo -->
    <script>
    const btnBack = document.getElementById('retroceder');

    if (btnBack) {
            btnBack.addEventListener('click',function() {
            window.location.href = '/years';
            });
        }




  function copiarDatos() {
    const datos = [{{#month.days}}{{totalSells}},{{/month.days}}];
    
    
    
     // tus números
    const texto = datos.join('\n'); // separa por saltos de línea

    // Crea un elemento temporal para copiar
    const temp = document.createElement('textarea');
    temp.value = texto;
    document.body.appendChild(temp);
    temp.select();
    document.execCommand('copy');
    document.body.removeChild(temp);

    alert('¡Datos copiados al portapapeles!');
  }

    </script>

</body>
</html>
